<div class="container">
  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
    {{ errorMessage }}
  </div>

  <!-- Titre + actions -->
  <header class="d-flex justify-content-between align-items-center">
    <h2 style="margin-left: 250px;">Gestion des Services</h2>
    <div class="header-actions">
      <button class="btn btn-primary" (click)="openModal()">+ Ajouter Service</button>
    </div>
  </header>

  <!-- Tableau -->
  <div class="table-responsive">
    <table class="table table-hover shadow-sm rounded">
      <thead class="table-header">
        <tr>
          <th>Nom du Service</th>
          <th>Ministère</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let service of services">
          <td>{{ service.nomService }}</td>
          <td>{{ service.ministere.id }}</td>
          <td>
            <button class="btn btn-info btn-sm me-2" (click)="openModal(service)">
              <i class="fas fa-edit"></i> Modifier
            </button>
            <button class="btn btn-danger btn-sm" (click)="deleteService(service.id)">
              <i class="fas fa-trash"></i> Supprimer
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modale pour ajouter/modifier service -->
  <div *ngIf="isModalOpen" class="modal-overlay">
    <div class="modal-content">
      <h3>📌 {{ editingService ? 'Modifier Service' : 'Ajouter Service' }}</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">🛠️ Nom du Service:</span>
          <input type="text" [(ngModel)]="serviceForm.nomService" placeholder="Entrez le nom du service" required>
        </div>
        <div class="info-item">
          <span class="label">🏛️ ID du Ministère:</span>
          <input type="number" [(ngModel)]="serviceForm.ministere.id" placeholder="Entrez l'ID du ministère" required>
        </div>
      </div>
      <button class="btn btn-success" (click)="editingService ? updateService() : addService()">Confirmer</button>
      <button class="btn btn-secondary" (click)="closeModal()">Annuler</button>
    </div>
  </div>
</div>