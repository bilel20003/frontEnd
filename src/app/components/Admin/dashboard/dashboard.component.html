<app-navbar-admin></app-navbar-admin>

<div class="dashboard-container">
  <h2>📊 Tableau de bord</h2>

  <!-- Cartes statistiques -->
  <div class="cards-container">
    <div class="card">👥 Utilisateurs : {{ stats.totalUtilisateurs }}</div>
    <div class="card">🛠️ Techniciens : {{ stats.totalTechniciens }}</div>
    <div class="card">📨 Réclamations en cours : {{ stats.totalReclamationsEnCours }}</div>
    <div class="card">✅ Réclamations traitées : {{ stats.totalReclamationsTraitees }}</div>
    <div class="card">🏛️ Ministères : {{ stats.totalMinisteres }}</div>
    <div class="card">🧩 Produits : {{ stats.totalProduits }}</div>
  </div>

  <!-- Tableau des dernières réclamations -->
  <div class="table-section">
    <h3>🕒 Dernières réclamations</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Ministère</th>
          <th>Service</th>
          <th>Type</th>
          <th>Date</th>
          <th>Statut</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rec of dernieresReclamations">
          <td>{{ rec.id }}</td>
          <td>{{ rec.service?.ministere?.nomMinistere }}</td>
          <td>{{ rec.service?.nomService }}</td>
          <td>{{ rec.typeProbleme }}</td>
          <td>{{ rec.dateEnvoi | date:'shortDate' }}</td>
          <td>{{ rec.status }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
